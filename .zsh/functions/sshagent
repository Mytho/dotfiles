# SSHAGENT
# --------
# Assists in using ssh-agent

if [[ $1 == "start" ]]; then
	if [[ -z $SSH_AGENT_PID ]]; then
		eval $(ssh-agent) >/dev/null
		if [[ -e ~/.ssh/id_rsa ]]; then
			ssh-add ~/.ssh/id_rsa
		fi
	else
		echo -e "SSH Agent already running (PID: $SSH_AGENT_PID)"
	fi
elif [[ $1 == "stop" ]]; then
	if [[ -z $SSH_AGENT_PID ]]; then
		echo -e "No running SSH Agent found."
	else
		kill -9 $SSH_AGENT_PID
		SSH_AGENT_PID=""
	fi
else
	echo -e "Usage $0 [start|stop]"
fi
